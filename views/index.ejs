<!-- views/index.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/styles.css">
  <title>Task Tracker</title>
</head>
<body>

  <h1>Task Tracker</h1>
  <h2>Create New Task</h2>
  <form action="/tasks" method="POST">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required>
    <label for="description">Description:</label>
    <textarea id="description" name="description" required></textarea>
    <label for="status">Status:</label>
    <select id="status" name="status">
      <option value="To Do">To Do</option>
      <option value="In Progress">In Progress</option>
      <option value="Complete">Complete</option>
    </select>
    <button type="submit">Create Task</button>
  </form>
  <h3>Task List</h3>
  <ul>
    <% tasks.reverse().forEach(task => { %>
      <li>
        <strong><%= task.title %></strong>
        <p><%= task.description %></p>
        <p>Status: <%= task.status %></p>
        <p>Created at: <%= task.createdAt.toLocaleString() %></p>
        <% if (task.updatedAt) { %>
          <p>Last Updated at: <%= task.updatedAt.toLocaleString() %></p>
        <% } %>
        <a href="/tasks/<%= task._id %>/edit">Edit</a>
        <a href="/tasks/<%= task._id %>/delete">Delete</a>
      </li>
    <% }) %>
  </ul>


</body>
</html>
